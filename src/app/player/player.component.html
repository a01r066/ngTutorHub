<div class="container">
  <mat-toolbar style="background-color: #29303B; color: white">
    <div fxFill fxLayout="row" fxLayoutAlign="left center">
      <span><button mat-icon-button (click)="home()" style="transform: scale(1.5)"><mat-icon>home</mat-icon></button></span>

      <span fxFlex="80" style="font-weight: 400; text-align: center">{{ course?.title }}</span>

      <span fxFlex="20" style="display: flex; justify-content: flex-end">
      <button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
      <mat-icon>favorite</mat-icon>
    </button>
    <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon">
      <mat-icon>share</mat-icon>
    </button>
    </span>
    </div>
  </mat-toolbar>
  <div fxFlext fxLayout="row">
    <div fxFlex="75">
      <div fxLayout="column">
        <ng-container *ngIf="chapter">
          <iframe *ngIf="getFileExt(chapter) !== 'mp4'" [src]="videoUrl" width="100%" height="640px" frameborder="0" allowfullscreen style="padding: 16px"></iframe>
          <video *ngIf="getFileExt(chapter) === 'mp4'" [src]="videoUrl" width="100%" height="640px" style=" background-color: #1E1E1C" controls></video>
        </ng-container>
        <div>
          <mat-tab-group>
<!--            <mat-tab label="Search">Search</mat-tab>-->
            <mat-tab label="Overview">
              <app-course-overview [course]="course"></app-course-overview>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
    </div>
    <div fxFlex="25">
      <div>
        <mat-accordion>
          <mat-expansion-panel disabled>
            <mat-expansion-panel-header style="background-color: transparent">
              <mat-panel-title>
                <p style="color: black; font-weight: 500; font-size: 1.1rem">Course content</p>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>This is the primary content of the panel.</p>
          </mat-expansion-panel>
          <mat-expansion-panel *ngFor="let lecture of chaptersArray; let i = index">
            <mat-expansion-panel-header>
              <mat-panel-title style="font-weight: 500">
                {{ lecture.title }}
              </mat-panel-title>
            </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent *ngIf="lecture.chapters">
              <mat-nav-list>
                <mat-list-item [routerLinkActive]="['active']" *ngFor="let chapter of lecture.chapters; let idx = index" (click)="onClickChapter(chapter, idx)" [class.active]="selected == idx">{{ chapter.title }}
                  <span style="float: right" *ngIf="chapter">
                  <ng-container *ngIf="getFileExt(chapter) === 'mp4' && chapter.duration > 0" >{{ chapter.duration | number }} min</ng-container>
                  <ng-container *ngIf="getFileExt(chapter) === 'zip'"><button mat-icon-button style="color: gray"><mat-icon>attach_file</mat-icon></button></ng-container>
                  <ng-container *ngIf="getFileExt(chapter) === 'tml' || getFileExt(chapter) === 'pdf'"><button mat-icon-button style="color:gray"><mat-icon>description</mat-icon></button></ng-container>
                </span>
                </mat-list-item>
              </mat-nav-list>
            </ng-template>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>
  </div>
</div>
